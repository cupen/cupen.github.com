<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="cupen<xcupen@gmail.com>">
  <meta name="description" content="Posts and writings by cupen<xcupen@gmail.com>">
  <title>
    吹水轩
&ndash; 小用xdebug  </title>

    <link rel="canonical" href="https://blog.dogame.cc/articles/2013-05-17/usexdebug.html">

  <link href="//fonts.googleapis.com/css?family=Open+Sans:600,800" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="https://blog.dogame.cc/theme/images/logo.png">


  <link rel="stylesheet" href="https://blog.dogame.cc/theme/css/style.min.css?4a0982c4">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">

<meta name="keywords" content="">
</head>
<body>
  <div class="container">
    <div class="four columns sidebar">
<nav>
  <a href="https://blog.dogame.cc/">
    <img src="https://blog.dogame.cc/images/avatar.jpg" id="gravatar" alt="My photo" />
  </a>
  <h2><a href="https://blog.dogame.cc/">cupen<xcupen@gmail.com></a></h2>

  <div id="bio">
    <p></p>
  </div>

  <div id="social">
<div id="stalker">







  <a title="xcupen on Twitter" href="https://twitter.com/xcupen">
    <i class="fa fa-twitter"></i>
  </a>









  <a title="cupen on Github" href="https://github.com/cupen">
    <i class="fa fa-github"></i>
  </a>


















  <a title="4909388/cupen on Stack Overflow" href="http://stackoverflow.com/users/4909388/cupen">
    <i class="fa fa-stack-overflow"></i>
  </a>









</div>  </div>

  <div id="tags"> 
    <ul class="list-group col-md-1 row-sm-1">

      <li class="list-group-item"><a href="https://blog.dogame.cc/pages/about.html">关于</a></li>
      <li class="list-group-item"><a href="https://blog.dogame.cc/pages/plans.html">计划</a></li>
      <li class="list-group-item"><a href="https://blog.dogame.cc/pages/wiki.html">Wiki</a></li>

      <li class="list-group-item"><a href="http://evilbinary.org" target="_blank">鸭子<span
            style="font-size: 0.7em">&#8599;</span> </a></li>
    </ul>
  </div>
</nav>    </div>

    <div class="eleven columns content">
  <p class="meta">
    2013年05月17日 Fri
    <a href="/">
      <i class="home fa fa-home"></i>
    </a>
  </p>

  <h1 class="title"><a href="https://blog.dogame.cc/articles/2013-05-17/usexdebug.html">小用xdebug</a></h1>

  <div class="article_text" id="post">
    <p>经常忘了xdebug的配置，搜索文档效率太低，姑且挑出常用的配置记录一下。</p>
<div class="line-block">
<div class="line">关于IDE和一些其它周边工具以后再补充吧。</div>
<div class="line">超详细的使用实例: <a class="reference external" href="http://xdebug.org/docs/all">http://xdebug.org/docs/all</a></div>
<div class="line">超详细的配置说明: <a class="reference external" href="http://xdebug.org/docs/all_settings">http://xdebug.org/docs/all_settings</a></div>
</div>
<pre class="code ini literal-block">
<span class="k">[XDebug]</span><span class="w">
</span><span class="c1">; 所有可配置项见 http://xdebug.org/docs/all_settings</span><span class="w">
</span><span class="na">zend_extension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/usr/local/app/bin/php/ext/php_xdebug.so&quot;</span><span class="w">

</span><span class="c1">; 分析信息用追加方式写入文件，</span><span class="w">
</span><span class="c1">; 使用触发的方式，不需要每次运行都分析。 在参数或者cookie里加入 XDEBUG_PROFILE</span><span class="w">
</span><span class="na">xdebug.profiler_append</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1</span><span class="w">
</span><span class="na">xdebug.profiler_enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0</span><span class="w">
</span><span class="na">xdebug.profiler_enable_trigger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1</span><span class="w">

</span><span class="c1">; 配置文件存放位置 %s表示脚本名（带路径）</span><span class="w">
</span><span class="c1">; 文件名含义同trace_output_name, 见：http://xdebug.org/docs/all_settings#trace_output_name</span><span class="w">
</span><span class="na">xdebug.profiler_output_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/usr/local/app/bin/php/trace/profiler/&quot;</span><span class="w">
</span><span class="na">xdebug.profiler_output_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;profiler.%s.txt&quot;</span><span class="w">

</span><span class="c1">; 远程调试相关的设置</span><span class="w">
</span><span class="na">xdebug.remote_enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">on</span><span class="w">
</span><span class="na">xdebug.remote_handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;dbgp&quot;</span><span class="w">
</span><span class="na">xdebug.remote_host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="w">
</span><span class="na">xdebug.remote_prot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">9000</span><span class="w">

</span><span class="c1">; trace文件的存放</span><span class="w">
</span><span class="c1">; 文件名含义见 http://xdebug.org/docs/all_settings#trace_output_name</span><span class="w">
</span><span class="na">xdebug.trace_output_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/usr/local/app/bin/php/trace/trace/&quot;</span><span class="w">
</span><span class="na">xdebug.trace_output_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;trace.%s&quot;</span><span class="w">

</span><span class="c1">; trace信息是否按是否以追加方式写入到文件（为啥不是apend？）</span><span class="w">
</span><span class="c1">; 0 表示覆盖式写入文件</span><span class="w">
</span><span class="c1">; 1 表示追加式写入文件</span><span class="w">
</span><span class="na">xdebug.trace_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0</span><span class="w">

</span><span class="c1">; 不需要自动trace,除非你希望每次执行都会trace(与auto_trace互斥)</span><span class="w">
    </span><span class="c1">; 触发trace的方式: 在参数或cookie里加入XDEBUG_TRACE</span><span class="w">
</span><span class="na">xdebug.auto_trace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0</span><span class="w">
</span><span class="na">xdebug.trace_enable_trigger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1</span><span class="w">


</span><span class="c1">; 收集变量的赋值</span><span class="w">
</span><span class="na">xdebug.collect_assignments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1</span><span class="w">

</span><span class="c1">; 收集-包含语句</span><span class="w">
</span><span class="c1">; 使用 include(), include_once(), require() require_once()引入的脚本名会被记录下来</span><span class="w">
</span><span class="na">xdebug.collect_includes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1</span><span class="w">

</span><span class="c1">; 收集函数的参数</span><span class="w">
</span><span class="c1">; 1 表示仅记录参数类型和长度 (f.e. string(6), array(8))</span><span class="w">
</span><span class="c1">; 2 表示仅记录参数类型和长度 ，以及简略信息。 （好吧，我懒得用这个参数，不知具体效果）</span><span class="w">
</span><span class="c1">; 3 表示仅记录参数的内容 至于记录的限度，得看关于变量显示限度的设置</span><span class="w">
</span><span class="c1">;           xdebug.var_display_max_children,</span><span class="w">
</span><span class="c1">;           xdebug.var_display_max_data</span><span class="w">
</span><span class="c1">;           xdebug.var_display_max_depth.</span><span class="w">
</span><span class="c1">; 4 表示记录参数的名字和全部内容，不受变量显示限度设置的影响</span><span class="w">
</span><span class="na">xdebug.collect_params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">4</span><span class="w">

</span><span class="c1">; 收集函数的返回值</span><span class="w">
</span><span class="na">xdebug.collect_return</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1</span><span class="w">

</span><span class="c1">; trace信息格式</span><span class="w">
</span><span class="c1">; 0 给人看的格式（默认值）</span><span class="w">
</span><span class="c1">; 1 给程序解析用的格式 （给其它工具设计的）</span><span class="w">
</span><span class="c1">; 2 html文本（信息量太少了）</span><span class="w">
</span><span class="na">xdebug.trace_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0</span>
</pre>

  </div>

  <div class="article_meta related">
  </div>



      <div class="footer">
<div class="disclaimer">
  
    <p>
      © cupen<xcupen@gmail.com>,  &mdash; built with <a href="http://getpelican.com" target="_blank">Pelican</a> with a forked theme <a href="https://github.com/cupen/taman" target="_blank">Taman</a>
    </p>
  </div>      </div>
    </div>
  </div>


</body>
</html>